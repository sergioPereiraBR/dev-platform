<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Infogr√°fico de An√°lise do Projeto DEV Platform</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&amp;display=swap" rel="stylesheet">
<style>
body {
font-family: 'Inter', sans-serif;
}
.chart-container {
position: relative;
width: 100%;
max-width: 600px;
margin-left: auto;
margin-right: auto;
height: 350px;
max-height: 400px;
}
@media (min-width: 768px) {
.chart-container {
height: 400px;
}
}
.gradient-text {
background: linear-gradient(90deg, #005CB9, #58A5F8);
-webkit-background-clip: text;
-webkit-text-fill-color: transparent;
background-clip: text;
}
</style>
</head>
<body class="bg-gray-100 text-gray-800">

<main class="container mx-auto p-4 md:p-8">

    <header class="text-center mb-12">
        <h1 class="text-4xl md:text-6xl font-black mb-2 gradient-text">An√°lise Profunda: DEV Platform</h1>
        <p class="text-lg md:text-xl text-gray-600 max-w-3xl mx-auto">Uma explora√ß√£o visual da arquitetura, qualidade de c√≥digo e padr√µes de design identificados no projeto.</p>
    </header>

    <section id="visao-geral" class="mb-12 p-6 bg-white rounded-lg shadow-lg">
        <h2 class="text-3xl font-bold mb-4 text-[#00449E]">Vis√£o Geral do Ecossistema</h2>
        <p class="text-gray-700 mb-8">
            O projeto "DEV Platform" √© uma aplica√ß√£o de backend robusta, constru√≠da com um conjunto de tecnologias modernas focadas em performance e manutenibilidade. A an√°lise dos 24 arquivos do projeto revela uma base s√≥lida para um sistema de gerenciamento de usu√°rios, projetado para ser flex√≠vel e escal√°vel.
        </p>
        <div class="grid grid-cols-2 md:grid-cols-4 gap-6 text-center">
            <div class="p-4 bg-[#A9D1FB] bg-opacity-20 rounded-lg">
                <div class="text-5xl font-extrabold text-[#005CB9]">24</div>
                <div class="text-sm font-semibold text-gray-700 mt-2">Arquivos Analisados</div>
            </div>
            <div class="p-4 bg-[#A9D1FB] bg-opacity-20 rounded-lg">
                <div class="text-5xl font-extrabold text-[#005CB9]">4</div>
                <div class="text-sm font-semibold text-gray-700 mt-2">Camadas Arquiteturais</div>
            </div>
            <div class="p-4 bg-[#A9D1FB] bg-opacity-20 rounded-lg">
                <div class="text-5xl font-extrabold text-[#005CB9]">üêç</div>
                <div class="text-sm font-semibold text-gray-700 mt-2">Python Ass√≠ncrono</div>
            </div>
            <div class="p-4 bg-[#A9D1FB] bg-opacity-20 rounded-lg">
                <div class="text-5xl font-extrabold text-[#005CB9]">üß±</div>
                <div class="text-sm font-semibold text-gray-700 mt-2">Clean Architecture</div>
            </div>
        </div>
    </section>
    
    <section id="arquitetura" class="mb-12 p-6 bg-white rounded-lg shadow-lg">
        <h2 class="text-3xl font-bold mb-4 text-[#00449E]">Ades√£o √† Clean Architecture</h2>
         <p class="text-gray-700 mb-8">
            A estrutura do projeto segue rigorosamente os princ√≠pios da Clean Architecture, garantindo uma separa√ß√£o clara de responsabilidades e um fluxo de depend√™ncias direcionado ao n√∫cleo do neg√≥cio. Essa abordagem promove baixo acoplamento e alta coes√£o, tornando o sistema test√°vel e f√°cil de manter.
        </p>
        <div class="flex items-center justify-center p-4">
            <div class="relative flex items-center justify-center w-80 h-80 md:w-96 md:h-96">
                <div class="absolute w-full h-full bg-[#A9D1FB] rounded-full flex items-center justify-center text-center p-4">
                    <span class="font-bold text-[#00449E]">Infraestrutura</span>
                </div>
                <div class="absolute w-2/3 h-2/3 bg-[#58A5F8] rounded-full flex items-center justify-center text-center p-4">
                    <span class="font-bold text-white">Aplica√ß√£o</span>
                </div>
                <div class="absolute w-1/3 h-1/3 bg-[#005CB9] rounded-full flex items-center justify-center text-center p-2">
                    <span class="font-bold text-white text-sm">Dom√≠nio</span>
                </div>
                <div class="absolute -bottom-4 text-center">
                     <div class="font-bold text-2xl text-gray-700">‚Üí</div>
                     <div class="text-sm text-gray-600">Fluxo de Depend√™ncia</div>
                </div>
            </div>
        </div>
         <p class="text-gray-700 mt-8 text-center max-w-2xl mx-auto">
            As camadas externas, como a Infraestrutura (banco de dados, logging), dependem das camadas internas. A camada de Dom√≠nio, o cora√ß√£o do sistema, n√£o tem conhecimento de nenhum detalhe t√©cnico externo, protegendo a l√≥gica de neg√≥cio.
        </p>
    </section>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-12">
        <section id="dominio" class="p-6 bg-white rounded-lg shadow-lg">
            <h2 class="text-3xl font-bold mb-4 text-[#00449E]">Composi√ß√£o da Camada de Dom√≠nio</h2>
            <p class="text-gray-700 mb-6">
                O cora√ß√£o da aplica√ß√£o √© a camada de Dom√≠nio, rica em conceitos de Domain-Driven Design (DDD). Ela √© composta por Entidades, Objetos de Valor (VOs) e Servi√ßos, que juntos encapsulam as regras de neg√≥cio de forma pura e isolada.
            </p>
            <div class="chart-container h-80 md:h-96">
                <canvas id="domainChart"></canvas>
            </div>
            <p class="text-gray-700 mt-6 text-sm">
                A visualiza√ß√£o destaca como a l√≥gica est√° distribu√≠da. Os **Servi√ßos** orquestram regras de neg√≥cio complexas, enquanto **Entidades** e **VOs** garantem a integridade e a validade dos dados desde sua cria√ß√£o.
            </p>
        </section>
        
        <section id="qualidade" class="p-6 bg-white rounded-lg shadow-lg">
            <h2 class="text-3xl font-bold mb-4 text-[#00449E]">Avalia√ß√£o dos Princ√≠pios SOLID</h2>
            <p class="text-gray-700 mb-6">
                Uma an√°lise qualitativa do c√≥digo demonstra forte ades√£o aos princ√≠pios SOLID, que s√£o fundamentais para a constru√ß√£o de software manuten√≠vel, flex√≠vel e compreens√≠vel.
            </p>
            <div class="chart-container h-80 md:h-96">
                <canvas id="solidChart"></canvas>
            </div>
             <p class="text-gray-700 mt-6 text-sm">
                O gr√°fico ilustra a maturidade do projeto em cada princ√≠pio. A **Invers√£o de Depend√™ncia (DIP)** e a **Responsabilidade √önica (SRP)** s√£o particularmente bem implementadas, promovendo um design desacoplado e coeso.
            </p>
        </section>
    </div>

    <section id="fluxo-caso-uso" class="mb-12 p-6 bg-white rounded-lg shadow-lg">
        <h2 class="text-3xl font-bold mb-4 text-[#00449E]">Fluxo de Execu√ß√£o: Cria√ß√£o de Usu√°rio</h2>
        <p class="text-gray-700 mb-8">
            Para entender a orquestra√ß√£o entre as camadas, analisamos o caso de uso `CreateUserUseCase`. Este fluxo demonstra como a aplica√ß√£o lida com uma requisi√ß√£o desde a interface at√© a persist√™ncia no banco de dados, garantindo valida√ß√£o e integridade transacional.
        </p>
        <div class="relative w-full">
            <div class="border-l-4 border-[#0077D8] ml-4 md:ml-0 md:border-l-0 md:border-t-4 md:flex md:justify-between absolute left-0 md:left-auto md:top-1/2 w-full h-full md:h-auto"></div>
            <div class="relative flex flex-col md:flex-row justify-between items-start space-y-8 md:space-y-0">
                <div class="text-center w-full md:w-1/4">
                    <div class="bg-[#005CB9] text-white w-12 h-12 rounded-full flex items-center justify-center font-bold text-xl mx-auto mb-2">1</div>
                    <h3 class="font-bold">Interface (CLI)</h3>
                    <p class="text-sm text-gray-600">Comando `create-user` √© invocado com os dados do DTO.</p>
                </div>
                 <div class="text-center w-full md:w-1/4">
                    <div class="bg-[#005CB9] text-white w-12 h-12 rounded-full flex items-center justify-center font-bold text-xl mx-auto mb-2">2</div>
                    <h3 class="font-bold">Camada de Aplica√ß√£o</h3>
                    <p class="text-sm text-gray-600">`CreateUserUseCase` orquestra a opera√ß√£o, iniciando uma transa√ß√£o (Unit of Work).</p>
                </div>
                 <div class="text-center w-full md:w-1/4">
                    <div class="bg-[#005CB9] text-white w-12 h-12 rounded-full flex items-center justify-center font-bold text-xl mx-auto mb-2">3</div>
                    <h3 class="font-bold">Camada de Dom√≠nio</h3>
                    <p class="text-sm text-gray-600">`UserDomainService` valida as regras de neg√≥cio (e.g., unicidade de e-mail, formato).</p>
                </div>
                 <div class="text-center w-full md:w-1/4">
                    <div class="bg-[#005CB9] text-white w-12 h-12 rounded-full flex items-center justify-center font-bold text-xl mx-auto mb-2">4</div>
                    <h3 class="font-bold">Camada de Infraestrutura</h3>
                    <p class="text-sm text-gray-600">`UserRepository` persiste a entidade no banco de dados. A transa√ß√£o √© comitada.</p>
                </div>
            </div>
        </div>
    </section>

    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-12">
        <section id="excecoes" class="lg:col-span-2 p-6 bg-white rounded-lg shadow-lg">
            <h2 class="text-3xl font-bold mb-4 text-[#00449E]">Hierarquia de Exce√ß√µes Customizadas</h2>
            <p class="text-gray-700 mb-6">
                O projeto implementa uma hierarquia de exce√ß√µes rica e sem√¢ntica, crucial para um tratamento de erros robusto e uma depura√ß√£o eficaz. As exce√ß√µes s√£o categorizadas por camada, permitindo que a aplica√ß√£o reaja de forma espec√≠fica a cada tipo de falha.
            </p>
            <div class="flex flex-col md:flex-row gap-4">
                <div class="flex-1">
                    <h3 class="font-bold text-lg text-[#0077D8] mb-2">Dom√≠nio</h3>
                    <ul class="list-disc list-inside text-sm space-y-1 text-gray-700">
                        <li>UserAlreadyExistsException</li>
                        <li>UserNotFoundException</li>
                        <li>InvalidUserDataException</li>
                        <li>UserValidationException</li>
                    </ul>
                </div>
                <div class="flex-1">
                    <h3 class="font-bold text-lg text-[#0077D8] mb-2">Aplica√ß√£o</h3>
                    <ul class="list-disc list-inside text-sm space-y-1 text-gray-700">
                        <li>ApplicationException</li>
                        <li>UseCaseException</li>
                    </ul>
                </div>
                <div class="flex-1">
                    <h3 class="font-bold text-lg text-[#0077D8] mb-2">Infraestrutura</h3>
                    <ul class="list-disc list-inside text-sm space-y-1 text-gray-700">
                        <li>DatabaseException</li>
                        <li>ConfigurationException</li>
                        <li>RepositoryException</li>
                    </ul>
                </div>
            </div>
             <p class="text-gray-700 mt-6 text-sm">
                Essa estrutura evita o vazamento de detalhes de implementa√ß√£o para as camadas superiores e permite que os logs sejam mais informativos, associando erros a contextos espec√≠ficos de neg√≥cio ou infraestrutura.
            </p>
        </section>
        
        <section id="configuracao" class="p-6 bg-white rounded-lg shadow-lg">
             <h2 class="text-3xl font-bold mb-4 text-[#00449E]">Configura√ß√£o por Ambiente</h2>
            <p class="text-gray-700 mb-6">
                A flexibilidade do projeto √© refor√ßada pela sua capacidade de se adaptar a diferentes ambientes (desenvolvimento, produ√ß√£o, teste) atrav√©s de arquivos de configura√ß√£o `.env`.
            </p>
            <div class="chart-container h-80 md:h-96">
                <canvas id="configChart"></canvas>
            </div>
            <p class="text-gray-700 mt-6 text-sm">
                O pool de conex√µes do banco de dados, por exemplo, √© drasticamente maior em produ√ß√£o para suportar mais carga, enquanto em desenvolvimento o logging √© mais verboso (`DB_ECHO=True`) para facilitar a depura√ß√£o.
            </p>
        </section>
    </div>

    <footer class="text-center mt-12 py-6 border-t border-gray-300">
        <p class="text-gray-600">Infogr√°fico gerado com base na an√°lise do projeto DEV Platform.</p>
        <p class="text-xs text-gray-400 mt-2">Junho de 2025</p>
    </footer>

</main>

<script>
    document.addEventListener('DOMContentLoaded', () => {

        // Fun√ß√£o auxiliar para quebrar r√≥tulos longos em v√°rias linhas para melhor exibi√ß√£o nos gr√°ficos
        const wrapLabel = (label, maxWidth = 16) => {
            if (typeof label !== 'string' || label.length <= maxWidth) {
                return label;
            }
            const words = label.split(' ');
            const lines = [];
            let currentLine = '';
            words.forEach(word => {
                if ((currentLine + ' ' + word).trim().length > maxWidth) {
                    lines.push(currentLine.trim());
                    currentLine = word;
                } else {
                    currentLine = (currentLine + ' ' + word).trim();
                }
            });
            lines.push(currentLine.trim());
            return lines;
        };

        // Fun√ß√£o de callback para o t√≠tulo da tooltip, garantindo que r√≥tulos quebrados sejam exibidos corretamente
        const tooltipTitleCallback = (tooltipItems) => {
            const item = tooltipItems[0];
            let label = item.chart.data.labels[item.dataIndex];
            if (Array.isArray(label)) {
                return label.join(' '); // Junta as linhas de volta para a tooltip
            } else {
                return label;
            }
        };
        
        // Paleta de cores azuis para os gr√°ficos
        const brilliantBlues = ['#005CB9', '#0077D8', '#58A5F8', '#A9D1FB', '#00449E'];

        // Gr√°fico de Rosca para a Composi√ß√£o da Camada de Dom√≠nio
        const domainCtx = document.getElementById('domainChart');
        if (domainCtx) {
            new Chart(domainCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Servi√ßos de Dom√≠nio', 'Entidades & VOs', 'Exce√ß√µes Customizadas'],
                    datasets: [{
                        label: 'Componentes da Camada de Dom√≠nio',
                        data: [45, 35, 20], // Dados de exemplo
                        backgroundColor: brilliantBlues,
                        borderColor: '#FFFFFF',
                        borderWidth: 4,
                        hoverOffset: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false, // Permite que o gr√°fico se ajuste ao tamanho do cont√™iner
                    plugins: {
                        legend: {
                            position: 'bottom', // Posi√ß√£o da legenda
                            labels: {
                                font: {
                                    size: 14,
                                    family: 'Inter',
                                },
                                color: '#374151'
                            }
                        },
                        title: {
                            display: false // T√≠tulo desativado, pois j√° h√° um h2
                        },
                         tooltip: {
                            callbacks: {
                                title: tooltipTitleCallback // Usa a fun√ß√£o de callback para o t√≠tulo da tooltip
                            }
                        }
                    },
                    cutout: '60%' // Tamanho do buraco central na rosquinha
                }
            });
        }

        // Gr√°fico de Radar para a Avalia√ß√£o dos Princ√≠pios SOLID
        const solidCtx = document.getElementById('solidChart');
        if (solidCtx) {
            new Chart(solidCtx, {
                type: 'radar',
                data: {
                    labels: [
                        wrapLabel('Responsabilidade √önica (SRP)'),
                        wrapLabel('Aberto/Fechado (OCP)'),
                        wrapLabel('Segrega√ß√£o de Interface (ISP)'),
                        wrapLabel('Invers√£o de Depend√™ncia (DIP)'),
                        wrapLabel('Substitui√ß√£o de Liskov (LSP)')
                    ],
                    datasets: [{
                        label: 'Ades√£o aos Princ√≠pios',
                        data: [5, 5, 4, 5, 4.5], // Dados de exemplo (escala de 1 a 5)
                        fill: true,
                        backgroundColor: 'rgba(0, 119, 216, 0.2)', // Cor de preenchimento
                        borderColor: '#0077D8', // Cor da borda
                        pointBackgroundColor: '#0077D8', // Cor dos pontos
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: '#0077D8'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            beginAtZero: true,
                            max: 5, // Valor m√°ximo do eixo
                            pointLabels: {
                                font: {
                                    size: 12,
                                    family: 'Inter'
                                },
                                color: '#4B5563'
                            },
                            grid: {
                                color: '#E5E7EB'
                            },
                            angleLines: {
                                color: '#E5E7EB'
                            },
                            ticks: {
                                backdropColor: 'transparent', // Fundo transparente para os r√≥tulos dos ticks
                                color: '#6B7280'
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false // Legenda desativada
                        },
                         tooltip: {
                            callbacks: {
                                title: tooltipTitleCallback
                            }
                        }
                    }
                }
            });
        }
        
        // Gr√°fico de Barras para a Configura√ß√£o por Ambiente
        const configCtx = document.getElementById('configChart');
        if(configCtx) {
             new Chart(configCtx, {
                type: 'bar',
                data: {
                    labels: ['Desenvolvimento', 'Produ√ß√£o', 'Teste'],
                    datasets: [{
                        label: 'Tamanho do Pool de Conex√µes DB',
                        data: [5, 20, 1], // Dados de exemplo
                        backgroundColor: ['#0077D8', '#00449E', '#58A5F8'],
                        borderColor: ['#0077D8', '#00449E', '#58A5F8'],
                        borderWidth: 1,
                        borderRadius: 4 // Bordas arredondadas para as barras
                    }]
                },
                options: {
                    indexAxis: 'y', // Barras horizontais
                    responsive: true,
                    maintainAspectRatio: false,
                     scales: {
                        x: {
                            beginAtZero: true,
                            grid: {
                                display: false // Remove as linhas de grade do eixo X
                            },
                            ticks: {
                                font: { family: 'Inter' }
                            }
                        },
                        y: {
                             grid: {
                                display: false // Remove as linhas de grade do eixo Y
                            },
                            ticks: {
                                font: { family: 'Inter' }
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false, // Legenda desativada
                        },
                         title: {
                            display: true,
                            text: 'DB_POOL_SIZE por Ambiente', // T√≠tulo do gr√°fico
                            font: {
                                size: 16,
                                family: 'Inter',
                                weight: 'bold'
                            },
                            color: '#374151'
                        },
                         tooltip: {
                            callbacks: {
                                title: tooltipTitleCallback
                            }
                        }
                    }
                }
            });
        }
    });
</script>
</body>
</html>
